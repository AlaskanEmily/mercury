/*
** Copyright (C) 1995-1998 The University of Melbourne.
** This file may only be copied under the terms of the GNU Library General
** Public License - see the file COPYING.LIB in the Mercury distribution.
*/

/*
** mercury_types.h - definitions of some basic types used by the
** code generated by the Mercury compiler and by the Mercury runtime.
*/

#ifndef MERCURY_TYPES_H
#define MERCURY_TYPES_H

#include "mercury_conf.h"
#include <stdio.h>	/* for `FILE' */

/* 
** Note that we require sizeof(Word) == sizeof(Integer) == sizeof(Code*);
** this is ensured by the autoconfiguration script.
*/

typedef	unsigned WORD_TYPE	Word;
typedef WORD_TYPE		Integer;
typedef unsigned WORD_TYPE	Unsigned;
typedef WORD_TYPE		Bool;

/*
** `Code *' is used as a generic pointer-to-label type that can point
** to any label defined using the Define_* macros in mercury_goto.h.
*/
typedef void			Code;

/*
** Float64 is required for the bytecode.
** XXX: We should also check for IEEE-754 compliance.
*/

#if	MR_FLOAT_IS_64_BIT
	typedef	float			Float64;
#elif	MR_DOUBLE_IS_64_BIT
	typedef	double			Float64;
#elif	MR_LONG_DOUBLE_IS_64_BIT
	typedef	long double		Float64;
#else
	#error	For Mercury bytecode, we require 64-bit IEEE-754 floating point
#endif

/* The following four typedefs logically belong in mercury_string.h.     */
/* They are defined here to avoid problems with circular #includes.      */
/* If you modify them, you will need to modify mercury_string.h as well. */

typedef char Char;
typedef unsigned char UnsignedChar;

typedef Char *String;
typedef const Char *ConstString;

/* continuation function type, for --high-level-C option */
typedef void (*Cont) (void);

/* spinlocks -- see mercury_spinlock.h */
typedef Word	SpinLock;

/*
** The C `MercuryFile' type is used for the Mercury `io__stream' type
** in library/io.m.
** Mercury files are not quite the same as C stdio FILEs,
** because we keep track of a little bit more information.
*/

typedef struct mercury_file {
	FILE *file;
	int line_number;
} MercuryFile;

/*
** semidet predicates indicate success or failure by leaving nonzero or zero
** respectively in register r1
** (should this #define go in some other header file?)
*/
#define SUCCESS_INDICATOR r1

#endif /* not MERCURY_TYPES_H */
