#-----------------------------------------------------------------------------#

main_target: check

include ../Mmake.common

#-----------------------------------------------------------------------------#

mdemangle_test.out: mdemangle_test.inp
	mdemangle < mdemangle_test.inp > mdemangle_test.out 2>&1

pretty_print_test.out: pretty_print_test.ugly
	cp pretty_print_test.ugly pretty_print_test.out

#-----------------------------------------------------------------------------#

PROGS =

OTHER_TESTS = mdemangle_test

# does not work at the moment
# OTHERTESTS = ... pretty_print_test

#-----------------------------------------------------------------------------#

DEPS=	$(PROGS:%=%.dep)
DEPENDS=$(PROGS:%=%.depend)
OUTS=	$(PROGS:%=%.out) $(OTHER_TESTS:%=%.out)
RESS=	$(PROGS:%=%.res) $(OTHER_TESTS:%=%.res)
MODS=	$(PROGS:%=%.mod)

#-----------------------------------------------------------------------------#

dep:	$(DEPS)

depend:	$(DEPENDS)

check:	$(OUTS) $(RESS)

mods:	$(MODS)

all:	$(PROGS)

clean:	clean_ugly

clean_ugly:
	/bin/rm -fr *.ugly

#-----------------------------------------------------------------------------#
