# Copyright (C) 2002 The University of Melbourne
# Ralph Becket <rafe@cs.mu.oz.au>
#
# To build do:
#
# $ mmake depend
# $ mmake
#
# Ensure you have built and installed the lex and regex libraries.
# Change the following line as appropriate if you installed them
# elsewhere:
#
#EXTRA_LIB_DIRS := $(INSTALL_PREFIX)/extras/lib/mercury
EXTRA_LIB_DIRS := ../lib/mercury

EXTRA_LIBRARIES = lex regex

MAIN_TARGET = all

.PHONY: all depend

all: test_regex

depend: test_regex.depend

check: depend test_regex
	./test_regex < test_regex.in > test_regex.res
	diff -u test_regex.exp test_regex.res && echo "Passed" || echo "Failed"
