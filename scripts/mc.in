#! /bin/sh
# @configure_input@
#---------------------------------------------------------------------------#
# Copyright (C) 1995 University of Melbourne.
# This file may only be copied under the terms of the GNU General
# Public License - see the file COPYING in the Mercury distribution.
#---------------------------------------------------------------------------#
#
# MC - Mercury Compiler.
#
# Use `mc -h' for help.
#
# Environment variables: MERCURY_INT_DIR, MERCURY_C_INCL_DIR,
# MERCURY_COMPILER, MERCURY_DEFAULT_GRADE, MERCURY_C_COMPILER.

INTDIR=${MERCURY_INT_DIR=@LIBDIR@/ints}
C_INCL=${MERCURY_C_INCL_DIR=@LIBDIR@/inc}
MC=${MERCURY_COMPILER="@LIBDIR@/bin/@FULLARCH@/mercury_compile"}
DEFAULT_GRADE=${MERCURY_DEFAULT_GRADE=@DEFAULT_GRADE@}
CC=${MERCURY_C_COMPILER=@CC@}
LOW_TAG_BITS=@LOW_TAG_BITS@
NUM_REAL_R_REGS=@NUM_REAL_R_REGS@
CFLAGS_FOR_REGS="@CFLAGS_FOR_REGS@"
CFLAGS_FOR_GOTOS="@CFLAGS_FOR_GOTOS@"

case $# in
	0) exec $MC -I "$INTDIR" --c-include-directory "$C_INCL" \
		--cc "$CC" --grade "$DEFAULT_GRADE" \
		--num-real-r-regs "$NUM_REAL_R_REGS" \
		--conf-low-tag-bits "$LOW_TAG_BITS" \
		--cflags-for-regs "$CFLAGS_FOR_REGS" \
		--cflags-for-gotos "$CFLAGS_FOR_GOTOS" \
		;;
	*) exec $MC -I "$INTDIR" --c-include-directory "$C_INCL" \
		--cc "$CC" --grade "$DEFAULT_GRADE" \
		--num-real-r-regs "$NUM_REAL_R_REGS" \
		--conf-low-tag-bits "$LOW_TAG_BITS" \
		--cflags-for-regs "$CFLAGS_FOR_REGS" \
		--cflags-for-gotos "$CFLAGS_FOR_GOTOS" \
		"$@" ;;
esac
