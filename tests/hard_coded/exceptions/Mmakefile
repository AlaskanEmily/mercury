#-----------------------------------------------------------------------------#
# Copyright (C) 1997-1999 The University of Melbourne. 
# This file may only be copied under the terms of the GNU General
# Public Licence - see the file COPYING in the Mercury distribution.
#-----------------------------------------------------------------------------#
#
# These rules define the main targets: depend, all, check.
#

MAIN_TARGET = check

include ../../Mmake.common

PROGS = test_exceptions.m test_uncaught_exception.m test_exceptions_func.m

depend: $(PROGS:.m=.depend)
all: $(PROGS:.m=)
check: $(PROGS:.m=.res)

#-----------------------------------------------------------------------------#

# test_uncaught_exception is *supposed* to return an error exit status
test_uncaught_exception.out: test_uncaught_exception
	if ./$< > $@ 2>&1; then false; else true; fi

#-----------------------------------------------------------------------------#
