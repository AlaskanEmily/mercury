#-----------------------------------------------------------------------------#

main_target: check

include ../Mmake

#-----------------------------------------------------------------------------#

# uncomment the following lines to test the performance
# of the benchmarks (with I/O suppressed)
# C2INITFLAGS=-w "`extract $(*:_init=) '' BenchEntry`"
# MLFLAGS=-- -static

#-----------------------------------------------------------------------------#

PROGS=	cqueens crypt deriv deriv2 nrev poly primes qsort queens \
	tak query
DEPENDS=$(PROGS:%=%.depend)
DEPS=	$(PROGS:%=%.dep)
OUTS=	$(PROGS:%=%.out)
EXPS=	$(PROGS:%=%.exp)
RESS=	$(PROGS:%=%.res)
SS=	$(PROGS:%=%.s)
CS=	$(PROGS:%=%.c)

dep: $(DEPS)

depend: $(DEPENDS)

check: $(EXPS) $(OUTS) $(RESS)

cs: $(CS)

ss: $(SS)

all: $(PROGS)

dir.%: $(PROGS) $(SS)
	-mkdir $@
	cp $(PROGS) $(SS) $@
	cp BenchEntry $@

#-----------------------------------------------------------------------------#
