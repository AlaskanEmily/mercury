#!/bin/sh
# create a vi style tags file for the Mercury programs named on the command line
awk -e '
/^:- pred /	{
			pred = substr($3, 1, index($3, "(")-1);
			printf "%s\t%s\t/^%s$/\n", pred, FILENAME, $0;
		}
' "$@" | sort > tags
