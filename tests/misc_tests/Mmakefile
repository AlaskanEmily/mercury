#-----------------------------------------------------------------------------#

main_target: check

include ../Mmake.common
-include ../Mmake.params

MCFLAGS-pretty_print_test = --no-line-numbers

#-----------------------------------------------------------------------------#

mdemangle_test.out: mdemangle_test.inp
	mdemangle < mdemangle_test.inp > mdemangle_test.out 2>&1

pretty_print_test.out: pretty_print_test.ugly
	cp pretty_print_test.ugly pretty_print_test.out

#-----------------------------------------------------------------------------#

PROGS =

OTHER_TESTS = mdemangle_test pretty_print_test

#-----------------------------------------------------------------------------#

DEPS=	$(PROGS:%=%.dep)
DEPENDS=$(PROGS:%=%.depend)
OUTS=	$(PROGS:%=%.out) $(OTHER_TESTS:%=%.out)
RESS=	$(PROGS:%=%.res) $(OTHER_TESTS:%=%.res)

#-----------------------------------------------------------------------------#

dep:	$(DEPS)

depend:	$(DEPENDS)

check:	$(OUTS) $(RESS)

all:	$(PROGS)

clean_local:	clean_ugly

clean_ugly:
	rm -fr *.ugly

#-----------------------------------------------------------------------------#
