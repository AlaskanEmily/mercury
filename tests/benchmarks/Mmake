#-----------------------------------------------------------------------------#

main_target: check

include ../Mmake

#-----------------------------------------------------------------------------#

# uncomment the following line to test the performance
# of the benchmarks (with I/O suppressed)
# C2INITFLAGS=-w"`extract $(*:_init=) '' BenchEntry`"

#-----------------------------------------------------------------------------#

PROGS=	cqueens crypt deriv deriv2 nrev poly primes qsort queens \
	tak query
DEPENDS=$(PROGS:%=%.depend)
OUTS=	$(PROGS:%=%.out)
EXPS=	$(PROGS:%=%.exp)
RESS=	$(PROGS:%=%.res)
SS=	$(PROGS:%=%.s)

depend: $(DEPENDS)

check: $(EXPS) $(OUTS) $(RESS)

ss: $(SS)

all:	$(PROGS)

dir.%: $(PROGS) $(SS)
	-mkdir $@
	cp $(PROGS) $(SS) $@
	cp BenchEntry $@

#-----------------------------------------------------------------------------#
